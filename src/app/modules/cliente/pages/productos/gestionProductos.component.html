<!-- Contenedor principal -->
<div class="container">
  <h2 class="title">Mis Productos</h2>

  <div *ngIf="cargando" class="loading">Cargando productos...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div class="productos-grid">
    <div
      class="producto-card"
      *ngFor="let producto of productos"
      (click)="abrirModal(producto)">
      <h3>{{ producto.nombre }}</h3>
      <p>{{ producto.descripcion }}</p>
      <span class="estado">{{ producto.estadoProducto }}</span>
    </div>
  </div>
</div>

<!-- Modal de detalle -->
<div class="modal-backdrop" *ngIf="productoSeleccionado" (click)="cerrarModal()"></div>
<div class="modal" *ngIf="productoSeleccionado">
  <button class="cerrar" (click)="cerrarModal()">×</button>
  <h2>Detalles del Producto</h2>
  <div class="detalle">
    <strong>Nombre:</strong> {{ productoSeleccionado.nombre }}<br>
    <strong>Descripción:</strong> {{ productoSeleccionado.descripcion }}<br>
    <strong>Estado:</strong> {{ productoSeleccionado.estadoProducto }}
  </div>

  <div *ngIf="espacios[productoSeleccionado.id]" class="espacio-info">
    <h3>Espacio Asignado</h3>
    <p><strong>Area Total:</strong> {{ espacios[productoSeleccionado.id].areaTotal }}</p>
    <p><strong>Id:</strong> {{ espacios[productoSeleccionado.id].id }}</p>
    <p><strong>Estado:</strong> {{ espacios[productoSeleccionado.id].estadoEspacio }}</p>
  </div>

  <div *ngIf="!espacios[productoSeleccionado.id]">
    <p><em>No se encontró información del espacio.</em></p>
  </div>
</div>
